@inject AppState AppState

<StackLayout>
    <StackLayout Orientation="StackOrientation.Horizontal">
        @* Input area *@
        <Entry @bind-Text="newText" Placeholder="What's to be done?" />
        <Button Text="Add" OnClick="@AddItem" />
    </StackLayout>

    <StackLayout>
        @* List of todos *@
        @foreach (var item in AppState.Items)
        {
            <TodoEntry Item="@item" />
        }
    </StackLayout>
</StackLayout>

@code
{
    string newText;

    void AddItem()
    {
        AppState.Items.Add(new TodoItem { Text = newText });
        newText = null;
    }
}
